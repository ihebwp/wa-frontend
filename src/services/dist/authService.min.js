"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _axios=_interopRequireDefault(require("axios"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var API_URL="http://localhost:4000",register=function(t){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(_axios.default.post(API_URL+"/signup",t));case 2:return(r=e.sent).data&&localStorage.setItem("user",JSON.stringify(r.data.token)),e.abrupt("return",r.data);case 5:case"end":return e.stop()}})},login=function(t){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(_axios.default.post(API_URL+"/login",t));case 2:return(r=e.sent).data&&localStorage.setItem("user",JSON.stringify({token:r.data.token,id:r.data._id,user:r.data.user})),e.abrupt("return",r.data);case 5:case"end":return e.stop()}})},getCurrentUser=function(t){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(_axios.default.get(API_URL+t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}})},getAllUsers=function(){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(_axios.default.get(API_URL+"/users"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}})},deleteUser=function(t){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(_axios.default.delete("".concat(API_URL,"/users/").concat(t)));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}})},logout=function(){localStorage.removeItem("user")},authService={register:register,logout:logout,login:login,getCurrentUser:getCurrentUser,getAllUsers:getAllUsers,deleteUser:deleteUser},_default=authService;exports.default=_default;
//# sourceMappingURL=authService.min.js.map
